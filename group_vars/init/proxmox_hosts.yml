---
proxmox_hosts:
  pve001:
    api_host: '{{ pve001.api_host }}'
    api_user: '{{ pve001.api_user }}'
    api_password: '{{ pve001.api_password }}'
    zfs_pools:
      - rpool
      - tank
  pve002:
    api_host: '{{ pve002.api_host }}'
    api_user: '{{ pve002.api_user }}'
    api_password: '{{ pve002.api_password }}'
    zfs_pools:
      - rpool
  pve004:
    api_host: '{{ pve004.api_host }}'
    api_user: '{{ pve004.api_user }}'
    api_password: '{{ pve004.api_password }}'
    zfs_pools:
      - rpool
      - tank
  pve005:
    api_host: '{{ pve005.api_host }}'
    api_user: '{{ pve005.api_user }}'
    api_password: '{{ pve005.api_password }}'
    zfs_pools:
      - rpool
    containers:
      - hostname: '{{ radarr.hostname }}'
        vmid: '{{ radarr.vmid }}'
        password: '{{ radarr.password }}'
        ostemplate: 'ubuntu-22.04-standard_22.04-1_amd64.tar.zst'
        cores: 1
        memory: 1024
        swap: 1024
        storage: 'local-zfs'
        rootfs_size: 16
        features:
          - 'nesting=1'
          - 'mount=nfs'
        proxmox_default_behavior: compatibility
        config_task: 'radarr'
        traefik_service: 'radarr'
        traefik_hostname: '{{ radarr.traefik_hostname }}'
        service_port: 7878
      - hostname: '{{ sonarr.hostname }}'
        vmid: '{{ sonarr.vmid }}'
        password: '{{ sonarr.password }}'
        ostemplate: 'ubuntu-22.04-standard_22.04-1_amd64.tar.zst'
        cores: 1
        memory: 1024
        swap: 1024
        storage: 'local-zfs'
        rootfs_size: 16
        features:
          - 'nesting=1'
          - 'mount=nfs'
        proxmox_default_behavior: compatibility
        config_task: 'sonarr'
        traefik_service: 'sonarr'
        traefik_hostname: '{{ sonarr.traefik_hostname }}'
        service_port: 8989
  pve006:
    api_host: '{{ pve006.api_host }}'
    api_user: '{{ pve006.api_user }}'
    api_password: '{{ pve006.api_password }}'
    zfs_pools:
      - rpool
    containers:
      - hostname: '{{ octoprint.hostname }}'
        vmid: '{{ octoprint.vmid }}'
        password: '{{ octoprint.password }}'
        unprivileged: false
        ostemplate: 'ubuntu-22.04-standard_22.04-1_amd64.tar.zst'
        cores: 1
        memory: 512
        swap: 512
        storage: 'local-zfs'
        rootfs_size: 8
        features:
          - 'nesting=1'
        proxmox_default_behavior: compatibility
        config_changes:
          - 'lxc.cgroup2.devices.allow: c 189:1 rwm'
          - 'lxc.mount.entry: /dev/bus/usb/003/002 dev/bus/usb/003/002 none bind,optional,create=file'
          - 'lxc.cgroup2.devices.allow: c 166:* rwm'
          - 'lxc.mount.entry: /dev/ttyACM0 dev/ttyACM0 none bind,optional,create=file'
        config_task: octoprint
        traefik_service: octoprint
        traefik_hostname: '{{ octoprint.traefik_hostname }}'
        service_port: 5000
      - hostname: '{{ sabnzbd.hostname }}'
        vmid: '{{ sabnzbd.vmid }}'
        password: '{{ sabnzbd.password }}'
        onboot: true
        ostemplate: 'ubuntu-22.04-standard_22.04-1_amd64.tar.zst'
        cores: 1
        memory: 1024
        swap: 1024
        storage: 'local-zfs'
        rootfs_size: 16
        features:
          - 'nesting=1'
          - 'mount=nfs'
        proxmox_default_behavior: compatibility
        config_task: sabnzbd
        traefik_service: sabnzbd
        traefik_hostname: '{{ sabnzbd.traefik_hostname }}'
        service_port: 8080
      - hostname: '{{ lidarr.hostname }}'
        vmid: '{{ lidarr.vmid }}'
        password: '{{ lidarr.password }}'
        ostemplate: 'ubuntu-22.04-standard_22.04-1_amd64.tar.zst'
        cores: 1
        memory: 1024
        swap: 1024
        storage: 'local-zfs'
        rootfs_size: 32
        features:
          - 'nesting=1'
          - 'mount=nfs'
        proxmox_default_behavior: compatibility
        config_task: 'lidarr'
        traefik_service: 'lidarr'
        traefik_hostname: '{{ lidarr.traefik_hostname }}'
        service_port: 8686
      - hostname: '{{ esphome.hostname }}'
        vmid: '{{ esphome.vmid }}'
        password: '{{ esphome.password }}'
        ostemplate: 'ubuntu-22.04-standard_22.04-1_amd64.tar.zst'
        cores: 1
        memory: 1024
        swap: 1024
        storage: 'local-zfs'
        rootfs_size: 16
        features:
          - 'nesting=1'
          - 'mount=nfs'
        proxmox_default_behavior: compatibility
        config_task: esphome
        traefik_service: esphome
        traefik_hostname: '{{ esphome.traefik_hostname }}'
        service_port: 6052
      - hostname: '{{ grafana.hostname }}'
        vmid: '{{ grafana.vmid }}'
        password: '{{ grafana.password }}'
        ostemplate: 'ubuntu-22.04-standard_22.04-1_amd64.tar.zst'
        cores: 1
        memory: 1024
        swap: 1024
        storage: 'local-zfs'
        rootfs_size: 16
        features:
          - 'nesting=1'
          - 'mount=nfs'
        proxmox_default_behavior: compatibility
        config_task: grafana
        traefik_service: grafana
        traefik_hostname: '{{ grafana.traefik_hostname }}'
        service_port: 3000
